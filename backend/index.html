<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UfersaTube</title>
    <style>
        body{
            margin: 40px auto;
            max-width: 1200px;
            background-color: #444;
        }
    </style>
</head>
<body>
    <video id="videoPlayer" width="1200" controls muted="muted" >
        <source src="" type="video/mp4"/> 
    </video>
    <button onclick="changeto240()">240p</button>
    <button onclick="changeto360()">360p</button>
    <button onclick="changeto480()">480p</button>
    <button onclick="changeto720()">720p</button>
    <button onclick="changeto1080()">1080p</button>
    <br><br>
    <button onclick="big()">Big_Buck_Bunny</button>
    <button onclick="raindrops()">Raindrops</button>
</body>
<script>

    var videoPlayer = document.getElementById("videoPlayer");
    var currentTime;
    var videoChoose = "Big_Buck_Bunny_";

    function big(){
        videoChoose = "Big_Buck_Bunny_";
        videoPlayer.currentTime = 0;
        changeto240();
        
    }

    function raindrops(){
        videoChoose = "Raindrops_";
        videoPlayer.currentTime = 0;
        changeto240();
        
    }

    function changeto240(){
        var name240 = "/video/" + videoChoose + "240p.mp4";
        changeVideoQuality(name240);
    }

    function changeto360(){
        var name360 = "/video/" + videoChoose + "360p.mp4";
        changeVideoQuality(name360);
    }

    function changeto480(){
        var name480 = "/video/" + videoChoose + "480p.mp4";
        changeVideoQuality(name480);
    }

    function changeto720(){
        var name720 = "/video/" + videoChoose + "720p.mp4";
        changeVideoQuality(name720);
    }

    function changeto1080(){
        var name1080 = "/video/" + videoChoose + "1080p.mp4";
        changeVideoQuality(name1080);
    }

    function changeVideoQuality(src){
        currentTime = videoPlayer.currentTime;
        videoPlayer.src = src;
        videoPlayer.play();
        videoPlayer.currentTime = currentTime;
    }

    /*var userImageLink =  
            "https://media.geeksforgeeks.org/wp-content/cdn-uploads/20200714180638/CIP_Launch-banner.png"; 
            var time_start, end_time; 
            
            // The size in bytes 
            var downloadSize = 5616998; 
            var downloadImgSrc = new Image(); 
  
            downloadImgSrc.onload = function () { 
                end_time = new Date().getTime(); 
                displaySpeed(); 
            }; 
            time_start = new Date().getTime(); 
            downloadImgSrc.src = userImageLink; 
            document.write("time start: " + time_start); 
            document.write("<br>"); 
  
            function displaySpeed() { 
                var timeDuration = (end_time - time_start) / 1000; 
                var loadedBits = downloadSize * 8; 
                
               
                var bps = (loadedBits / timeDuration).toFixed(2); 
                var speedInKbps = (bps / 1024).toFixed(2); 
                var speedInMbps = (speedInKbps / 1024).toFixed(2); 
                alert("Your internet connection speed is: \n" 
                      + bps + " bps\n" + speedInKbps  
                      + " kbps\n" + speedInMbps + " Mbps\n"); 
            } */

</script>
</html>